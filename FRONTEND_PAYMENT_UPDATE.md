# Frontend Payment Update

## Quick Fix

Remove `paymentId` from the payment request. The backend automatically generates it.

### Before (❌ Don't send paymentId):

```javascript
const response = await fetch(`${API_BASE_URL}/api/payments/create-order`, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}`
  },
  body: JSON.stringify({ 
    orderId: "ORD-2025-367",
    amount: 2849.05,
    paymentId: "PAY-2025-634"  // ❌ Remove this - backend generates it
  })
});
```

### After (✅ Correct):

```javascript
const response = await fetch(`${API_BASE_URL}/api/payments/create-order`, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}`
  },
  body: JSON.stringify({ 
    orderId: "ORD-2025-367",
    amount: 2849.05
    // ✅ paymentId is auto-generated by backend
  })
});
```

## What Changed

- **Backend**: Fixed Payment model to auto-generate `paymentId` (no longer required in request)
- **Frontend**: Remove `paymentId` from request body - backend will generate it automatically

## Response

The backend will return the generated `paymentId` in the response:

```json
{
  "success": true,
  "message": "Razorpay order created successfully",
  "data": {
    "paymentId": "PAY-1737123456789-1234",  // ✅ Auto-generated by backend
    "orderId": "ORD-2025-367",
    "amount": 2849.05,
    "currency": "INR",
    "razorpayOrderId": "order_ABC123xyz",
    "key": "rzp_test_xxxxx"
  }
}
```

## Summary

**Action Required**: Remove `paymentId` field from the payment request body. The backend automatically generates a unique payment ID for each payment.

